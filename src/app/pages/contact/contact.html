<section class="contact-section">
<div class="contact-container">
<h2>Hablemos sobre tu próxima aplicación.</h2>
<p class="subtitle">
    Completá el formulario o escribinos directamente por WhatsApp.
</p>

<form #contactForm="ngForm">
    <div class="field">
        <label>Nombre</label>
        <input type="text" name="name" required [(ngModel)]="model.name" />
        <p *ngIf="attemptedSubmit && contactForm.controls['name']?.invalid" class="text-sm text-red-600 mt-1">
            Ingresá tu nombre.
        </p>
    </div>

    <div class="field">
        <label>Email</label>
        <input type="email" name="email" required email [(ngModel)]="model.email" />
        <p *ngIf="attemptedSubmit && contactForm.controls['email']?.invalid" class="text-sm text-red-600 mt-1">
            Ingresá un email válido.
        </p>
    </div>

    <div class="field">
        <label>Mensaje</label>
        <textarea rows="5" name="message" required [(ngModel)]="model.message"></textarea>
        <p *ngIf="attemptedSubmit && contactForm.controls['message']?.invalid"
            class="text-sm text-red-600 mt-1">
            Escribí un mensaje.
        </p>
    </div>

    <button type="button" (click)="submit(contactForm)" [disabled]="!contactForm.valid || sending">
        {{ sending ? 'Enviando...' : 'Enviar mensaje' }}
    </button>
</form>

<div class="whatsapp-cta">
    <p>¿Preferís contacto directo?</p>
    <a href="https://wa.me/5493424064362" target="_blank">
        Contactar por WhatsApp
    </a>
</div>
</div>
</section>

<div *ngIf="showModal" class="fixed inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm z-50"
(click)="closeModal()">
<div class="bg-white w-[320px] rounded-2xl shadow-2xl p-6 animate-scale" (click)="$event.stopPropagation()">
<div class="text-center">
    <div class="mx-auto mb-4 w-14 h-14 flex items-center justify-center rounded-full text-2xl font-bold"
        [ngClass]="{
'bg-green-100 text-green-600': modalType === 'success',
'bg-red-100 text-red-600': modalType === 'error'
}">
        {{ modalType === 'success' ? '✓' : '!' }}
    </div>

    <p class="text-gray-700 mb-6 text-sm">
        {{ modalMessage }}
    </p>

    <button (click)="closeModal()"
        class="w-full py-2 rounded-lg bg-black text-white hover:bg-gray-800 transition duration-200">
        Cerrar
    </button>
</div>
</div>
</div>